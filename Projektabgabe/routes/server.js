/**

// SERVER.JS (orientiert an Github von Auriol 09/express+mongo+docker/serveranddb.js)
const express = require('express')
var router = express.Router()
const MongoClient = require('mongodb').MongoClient
const assert = require('assert')

//Wichtig: der hier neu erstellte Server crasht das Programm
/** 
const app = express() // create express app
const port = 5000
*/
/**
const url = 'mongodb://localhost:27017' // connection URL
const client = new MongoClient(url) // create mongodb client
const dbName = 'Routes' // database name
const collectionName = 'NewRoutes' // collection name

// GET Homepage 
router.get('/', function(req, res, next) {
    //res.send('hello world'); 

// Use connect method to connect to the server
  client.connect(function(err) 
  {

    assert.equal(null, err)
    console.log('Connected successfully to server')
    const db = client.db(dbName)
    const collection = db.collection(collectionName)

//Natur-Tour
    const data = [
        {
        "name":"Natur-Tour",
            "type": "FeatureCollection",
            "features": [
              {
                "type": "Feature",
                "properties": {},
                "geometry": {
                  "type": "LineString",
                  "coordinates": [
                    [
                      7.618203163146972,
                      51.95611479866179
                    ],
                    [
                      7.610220909118652,
                      51.953258408047034
                    ],
                    [
                      7.605671882629394,
                      51.94995217320104
                    ],
                    [
                      7.600650787353515,
                      51.94664569458227
                    ],
                    [
                      7.598505020141602,
                      51.94355060971912
                    ],
                    [
                      7.595329284667969,
                      51.94249241205695
                    ],
                    [
                      7.594728469848633,
                      51.94278341890263
                    ],
                    [
                      7.594642639160156,
                      51.943365426930306
                    ],
                    [
                      7.596788406372069,
                      51.945984369605185
                    ],
                    [
                      7.595071792602538,
                      51.946460524571606
                    ],
                    [
                      7.5951576232910165,
                      51.94691022184277
                    ],
                    [
                      7.59601593017578,
                      51.948047671284655
                    ],
                    [
                      7.595964968204497,
                      51.948695740042716
                    ],
                    [
                      7.5968098640441895,
                      51.94894702949047
                    ],
                    [
                      7.597045898437499,
                      51.94960831078266
                    ],
                    [
                      7.596852779388428,
                      51.94984636966083
                    ],
                    [
                      7.599105834960938,
                      51.95108954549307
                    ],
                    [
                      7.601723670959472,
                      51.951909493669376
                    ],
                    [
                      7.604405879974366,
                      51.95112922075002
                    ],
                    [
                      7.605993747711181,
                      51.95292779553201
                    ],
                    [
                      7.606101036071777,
                      51.95353612067583
                    ],
                    [
                      7.60852575302124,
                      51.95439569648285
                    ],
                    [
                      7.612044811248778,
                      51.95669663370022
                    ],
                    [
                      7.614040374755859,
                      51.9578999503913
                    ],
                    [
                      7.615585327148437,
                      51.95782061182377
                    ],
                    [
                      7.615563869476318,
                      51.9586801054935
                    ],
                    [
                      7.614147663116456,
                      51.96017426295793
                    ],
                    [
                      7.614587545394897,
                      51.96029987569666
                    ],
                    [
                      7.614576816558838,
                      51.960524655508564
                    ],
                    [
                      7.614566087722778,
                      51.961860088797984
                    ],
                    [
                      7.613954544067383,
                      51.963202093063856
                    ],
                    [
                      7.612602710723877,
                      51.96310954233544
                    ],
                    [
                      7.612645626068115,
                      51.96240879490497
                    ],
                    [
                      7.612087726593017,
                      51.962303020756345
                    ],
                    [
                      7.611519098281861,
                      51.9623691296285
                    ],
                    [
                      7.610360383987426,
                      51.96232946431691
                    ],
                    [
                      7.6096200942993155,
                      51.96196586399181
                    ],
                    [
                      7.608633041381835,
                      51.961589038724526
                    ],
                    [
                      7.608300447463988,
                      51.96215758089443
                    ],
                    [
                      7.607957124710083,
                      51.96284511062979
                    ],
                    [
                      7.606165409088134,
                      51.96374417206434
                    ],
                    [
                      7.608150243759155,
                      51.96476220515285
                    ],
                    [
                      7.60899782180786,
                      51.965899201787714
                    ],
                    [
                      7.610392570495605,
                      51.96517205610167
                    ],
                    [
                      7.612795829772949,
                      51.96496052059606
                    ],
                    [
                      7.612988948822021,
                      51.9649654784709
                    ],
                    [
                      7.613081485033035,
                      51.964940689091236
                    ],
                    [
                      7.613180726766585,
                      51.9648605366698
                    ],
                    [
                      7.613697052001954,
                      51.964973741594434
                    ],
                    [
                      7.613900899887086,
                      51.965628176138345
                    ],
                    [
                      7.615574598312377,
                      51.9655554616609
                    ],
                    [
                      7.615617513656615,
                      51.96548935748814
                    ],
                    [
                      7.615875005722047,
                      51.96531748618265
                    ],
                    [
                      7.616271972656249,
                      51.96530426528567
                    ],
                    [
                      7.6165616512298575,
                      51.966573453609904
                    ],
                    [
                      7.617301940917968,
                      51.96702294918948
                    ],
                    [
                      7.620391845703124,
                      51.96715515291374
                    ],
                    [
                      7.623267173767089,
                      51.96679820196322
                    ],
                    [
                      7.630029022693634,
                      51.96789383404603
                    ],
                    [
                      7.630908787250518,
                      51.96795993467242
                    ],
                    [
                      7.631933391094207,
                      51.96771536186778
                    ],
                    [
                      7.633824348449706,
                      51.965899201787714
                    ],
                    [
                      7.634122073650359,
                      51.964154032322156
                    ],
                    [
                      7.634403705596923,
                      51.96090148972336
                    ],
                    [
                      7.629854679107666,
                      51.957397470425725
                    ],
                    [
                      7.627902030944824,
                      51.95653795216583
                    ],
                    [
                      7.626378536224365,
                      51.9565247286793
                    ],
                    [
                      7.622451782226563,
                      51.95727846118796
                    ],
                    [
                      7.621464729309083,
                      51.956881761447164
                    ],
                    [
                      7.6207780838012695,
                      51.956881761447164
                    ],
                    [
                      7.620413303375244,
                      51.95702721842635
                    ],
                    [
                      7.619855403900146,
                      51.957080111756326
                    ],
                    [
                      7.619404792785644,
                      51.957159451634276
                    ],
                    [
                      7.618975639343262,
                      51.95636604653648
                    ],
                    [
                      7.618288993835448,
                      51.956141245872814
                    ]
                  ]
                }
              }
            ]
          }
    ]

    // Find some routes
    collection.find({}).toArray(function(err, docs)
    {
        assert.equal(err, null); 
        console.log('Found the following routes...'); 
        res.render('server', { title: 'Index' , data: docs});
    
    })

    // Insert data in the collection
    collection.insertMany(data, function(err, result) 
    {
      assert.equal(err, null)
      assert.equal(1, result.result.ok)
      //console.log(result)
      console.log(`Inserted ${result.insertedCount} documents into the collection`)
     
    })

    client.close()

    res.send('Some data has been added to the database!')

  })

});

module.exports = router; //evtl. vor client.close()?
*/
